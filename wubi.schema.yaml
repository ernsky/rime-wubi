# Rime schema settings
# encoding: utf-8
# 
# å‚è€ƒ
# [beavailable](https://github.com/beavailable/better-wubi)â€”â€”é‡‡ç”¨å­—æ ¹ç¼–ç 
# [åœ¨çº¿é…è‰²æ–¹æ¡ˆ](https://fxliang.github.io/RimeSeeMe/)
# [é›¾æ·æ‹¼éŸ³](https://github.com/iDvel/rime-ice)â€”â€”é‡‡ç”¨æ‹¼éŸ³åæŸ¥
# [å››å¶è‰æ‹¼éŸ³æ–¹æ¡ˆ](https://github.com/fkxxyz/rime-cloverpinyin)
# [æç‚¹äº”ç¬”æ–¹æ¡ˆ](https://github.com/KyleBing/rime-wubi86-jidian)
# [ç©ºå±±æ˜æœˆæ–¹æ¡ˆ](http://98wb.ysepan.com/)â€”â€”é‡‡ç”¨ä¸»åŠ¨åŠ è¯ä»£ç 
# [æ–°ä¸–çºªè¯åº“é›†æˆ](https://06wb.github.io/Tables/index.html)â€”â€”é‡Œé¢æ”¶é›†äº†å¾ˆå¤šèµ„æº
# [ç™½éœœæ‹¼éŸ³](https://github.com/gaboolic/rime-frost)
# [å°é¹¤åŒæ‹¼](https://github.com/boomker/rime-fast-xhup)â€”â€”å‚è€ƒåŠ è¯ä»£ç 
# [è¾“å…¥æ–¹æ¡ˆæ’å](https://github.com/ayaka14732/awesome-rime)â€”â€”å¥½ä¹…ä¹Ÿä¸æ›´æ–°äº†
# ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# å·²å®ç°çš„åŠŸèƒ½
# 1. å¯å¿«é€Ÿè¾“å…¥Markdownä¸»è¦ä»£ç ã€‚å¦‚æ ‡é¢˜ã€ä»£ç ã€å¼•ç”¨â€¦â€¦ï¼Œè‹¥è¦è°ƒæ•´ï¼Œåœ¨wubi.user.yamlæ–‡ä»¶é‡Œï¼Œå½“ç„¶ï¼Œä¸€äº›å¿«æ·çš„ç¬¦å·ï¼Œéƒ½åœ¨è¿™é‡Œï¼Œå¯ç¿»çœ‹ç¿»çœ‹ï¼Œå¾ˆå¥½ç”¨ã€‚è¿™é¡¹åœ¨wubi86.useré‡Œé¢ä¿®æ”¹ã€‚
# 2. å¯å¿«é€Ÿè¾“å…¥è´¢åŠ¡ç”¨æ•°å­—ï¼ŒæŒ‰ä½â€œShift+ä»»ä¸€å­—æ¯â€ï¼Œç„¶åè¾“å…¥æ•°å­—ï¼Œå³å¯è½¬æ¢ä¸ºå¤§å†™è´¢åŠ¡æ•°å­—ï¼Œå¦‚å£¹ã€è´°â€¦â€¦â€¦â€¦
# 3. ä½¿ç”¨â€œ;â€ã€â€œ'â€ï¼Œå³å°å·ã€å¼•å·ï¼Œå¯å¿«é€Ÿé€‰æ‹©ç¬¬äºŒã€ä¸‰é¡¹å€™é€‰é¡¹ã€‚
# 4. ä½¿ç”¨â€œTabâ€å¯å¿«é€Ÿå‘ä¸‹ç¿»é¡µã€‚
# 5. äº”ç¬”å’Œæ‹¼éŸ³ï¼Œå¯åŠ¨æ—¶ï¼Œå…¨éƒ¨æ”¹ä¸ºäº†è‹±æ–‡çŠ¶æ€ã€‚
# 6. è¾“å…¥riqiã€sjianã€weekå¯å¿«é€Ÿè¾“å…¥å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚
# 7. å¯å®ç°äº”ç¬”è¿æ‰“ï¼Œä»¥åŠåŒè‹±è¯­æ··è¾“ã€‚
# 8. åŸºæœ¬ä¸Šï¼Œæˆ‘æƒ³è¦çš„åŠŸèƒ½éƒ½æ•´åˆåˆ°é‡Œé¢äº†ã€‚

schema:
  schema_id: wubi
  name: "äº”ç¬”"
  version: "2024-12-19"
#  icon: "wubi86.ico"    # string æ–¹æ¡ˆå›¾æ ‡ï¼Œæ ¼å¼ï¼š .ico
#  ascii_icon:                         # string
  author:
    - Alamo
  description: |
    åŸºäºã€ beavailable ã€‘ç¼–ç ä¿®æ”¹
    å¤–æŒ‚éå¸¸ç”¨å­—åŠè¯ç»„   
    ä»¥86äº”ç¬”ç¼–ç ä¸ºåŸºç¡€ï¼Œä¸ªåˆ«ç ä½è¿›è¡Œäº†è°ƒæ•´
    æ•² / éµé€²å…¥æ‹¼éŸ³åæŸ¥
    å¤§å†™å­—æ¯+æ•°å­—ï¼Œè¾“å…¥å¤§å†™æ•°å­—
  dependencies:
    - rime_ice
    - melt_eng  # è‹±æ–‡è¾“å…¥ï¼Œä½œä¸ºæ¬¡ç¿»è¯‘å™¨æŒ‚è½½åˆ°æ‹¼éŸ³æ–¹æ¡ˆ

switches:
  - name: ascii_mode
    states: [ ä¸­, ï¼¡ ]
    reset: 0
  - name: ascii_punct # ä¸­è‹±æ ‡ç‚¹
    states: [ ã€‚, .  ]
    reset: 0
  - name: traditionalize
    states: [ ç®€, ç¹ ]
    reset: 0
  - name: emoji
    states: [ ğŸ’€, ğŸ˜„ ]
    reset: 1
  - name: full_shape  #  å…¨è§’ç¬¦å·ï¼åŠè§’ç¬¦å·å¼€å…³ã€‚æ³¨æ„ï¼Œå¼€å¯å…¨è§’æ—¶è‹±æ–‡å­—æ¯äº¦ä¸ºå…¨è§’ã€‚`0`ä¸ºåŠè§’ï¼Œ`1`ä¸ºå…¨è§’
    states: [ åŠ, å…¨ ]
    reset: 0

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - "affix_segmentor@mkst"
    - "affix_segmentor@rvlk1"
    - "affix_segmentor@zhuyin_fix"
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - "table_translator@rvlk1"
    - table_translator
    - lua_translator@*date_translator
    - "table_translator@fixed"
    - "table_translator@mkst"
    - "history_translator@history"
    - lua_translator@*number_translator
    - table_translator@melt_eng
    - lua_translator@*long_phrase_first
  filters:
    - simplifier
    - "reverse_lookup_filter@ci_reverse_lookup"
    - lua_filter@*reduce_english_filter
    - lua_filter@*autocap_filter
    - lua_filter@*en_spacer
    - lua_filter@*long_word_filter
#    - lua_filter@*single_char_first_filter
#    - lua_filter@*single_char_only
    - uniquifier

speller:
  auto_select: true
  auto_clear: max_length
  delimiter: "`"
#  max_code_length: 4
  
translator:
  dictionary: wubi
  db_class: tabledb
  initial_quality: 5
  enable_charset_filter: false
  enable_sentence: true
  enable_encoder: false
  encode_commit_history: false
  max_phrase_length: 2
  enable_completion: true
  enable_user_dict: false
  disable_user_dict_for_patterns:
    - "^z.*$"

fixed:
  __include: /translator
  initial_quality: 3
  enable_encoder: true
  enable_user_dict: true
  
mkst:
  __include: /translator
  initial_quality: 2
  enable_sentence: true
  prefix: '`'
  tips: "ã€”ç²¾å‡†é€ è¯ã€•"
  tag: mkst

reverse_lookup:
  __include: /translator
  dictionary: rime_ice
  tips: "ã€”æ‹¼éŸ³åæŸ¥ã€•"
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/
  tag: rvlk2

rvlk1:
  __include: /reverse_lookup
  prefix: "/"
  tag: rvlk1
  extra_tags:
    - rvlk2

ci_reverse_lookup:
  dictionary: wubi
  tips: "ã€”äº”ç¬”æ»¤é•œã€•"
  tags:
    - rvlk2

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"
    mkst: "^[a-y]*`[a-y`]*$"
#    punct: "^/([0-9]0?|[A-Za-z]+)$"
    rvlk1: "^/[a-z]*'?$"
    rvlk2: "^/[a-z]*'?$"
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"

history:
  input: z
  size: 1
  initial_quality: 3

punctuator:
  import_preset: default
  
menu:
  page_size: 5  

# Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
date_translator:
  date: rq       # æ—¥æœŸï¼š 2022-11-29
  time: sj       # æ—¶é—´ï¼š 18:13
  week: xq       # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
  datetime: dt   # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
  timestamp: ts  # æ—¶é—´æˆ³ï¼š 1669716794

# æ¬¡ç¿»è¯‘å™¨ï¼Œè‹±æ–‡
melt_eng:
  dictionary: melt_eng     # æŒ‚è½½è¯åº“ melt_eng.dict.yaml
  enable_sentence: false   # ç¦æ­¢é€ å¥
  enable_user_dict: false  # ç¦ç”¨ç”¨æˆ·è¯å…¸
  initial_quality: 1.0     # åˆå§‹æƒé‡
  comment_format:          # è‡ªå®šä¹‰æç¤ºç 
    - xform/.*//           # æ¸…ç©ºæç¤ºç 

# Lua é…ç½®: é™ä½éƒ¨åˆ†è‹±è¯­å•è¯åœ¨å€™é€‰é¡¹çš„ä½ç½®ã€‚
# è¯¦ç»†ä»‹ç» https://dvel.me/posts/make-rime-en-better/#çŸ­å•è¯ç½®é¡¶çš„é—®é¢˜
# æ­£å¸¸æƒ…å†µï¼š è¾“å…¥ rug å¾—åˆ° ã€Œ1.rug 2.å¦‚æœ â€¦â€¦ ã€
# é™ä½ä¹‹åï¼š è¾“å…¥ rug å¾—åˆ° ã€Œ1.å¦‚æœ 2.rug â€¦â€¦ ã€
# å‡ ç§æ¨¡å¼ï¼š
# all     é™ä½æ‰€æœ‰ 3~4 ä½é•¿åº¦ã€å‰ 2~3 ä½æ˜¯å®Œæ•´æ‹¼éŸ³ã€æœ€åä¸€ä½æ˜¯å£°æ¯çš„å•è¯
# none    ä¸é™ä½ä»»ä½•å•è¯ï¼Œç›¸å½“äºæ²¡æœ‰å¯ç”¨è¿™ä¸ª Lua
# custom  è‡ªå®šä¹‰ï¼Œåªé™ä½ custom é‡Œçš„
# ï¼ˆåŒ¹é…çš„æ˜¯ç¼–ç ï¼Œä¸æ˜¯å•è¯ï¼‰
reduce_english_filter:
  mode: all  # all | none | custom
  idx: 2        # é™ä½åˆ°ç¬¬ idx ä¸ªä½ç½®
  # è‡ªå®šä¹‰çš„å•è¯åˆ—è¡¨ï¼Œç¤ºä¾‹åˆ—è¡¨æ²¡æœ‰é™ä½éƒ¨åˆ†å¸¸ç”¨å•è¯ï¼Œå¦‚ and cat mail Mac but bad shit â€¦â€¦
  words: [aid, ann,
  bail, bait, bam, band, bans, bat, bay, bend, bent, benz, bib, bid, bien, biz, boc, bop, bos, bud, buf,
  cab, cad, cain, cam, cans, cap, cas, cef, chad, chan, chap, chef, cher, chew, chic, chin, chip, chit, coup, cum, cunt, cur,
  dab, dag, dal, dam, dent, dew, dial, diet, dim, din, dip, dis, dit, doug, dub, dug, dunn,
  fab, fax, fob, fog, foul, fur,
  gag, gail, gain, gal, gam, gaol, ged, gel, ger, guam, gus, gut,
  hail, ham, hank, hans, hat, hay, heil, heir, hem, hep, hud, hum, hung, hunk, hut,
  jim, jug,
  kat,
  lab, lad, lag, laid, lam, laos, lap, lat, lax, lay, led, leg, lex, liam, lib, lid, lied, lien, lies, linn, lip, lit, liz, lob, lug, lund, lung, lux,
  mag, maid, mann, mar, mat, med, mel, mend, mens, ment, mil, mins, mint, mob, moc, mod, mop, mos, mot, mud, mug, mum, nail,
  nap, nat, nay, neil, nib, nip, noun, nous, nun, nut,
  pac, paid, pail, pain, pair, pak, pal, pam, pans, pant, pap, par, pat, paw, pax, pens, pic, pier, pies, pins, pint, pit, pix, pod, pop, pos, pot, pour, pow, pub,
  rand, rant, rent, rep, res, ret, rex, rib, rid, rig, rim, rub, rug, rum, runs,
  sac, sail, sal, sam, sans, sap, saw, sax, sew, sham, shaw, shin, sig, sin, sip, sis, suit, sung, suns, sup, sur, sus,
  tad, tail, taj, tar, tax, tec, ted, tel, ter, tex, tic, tied, tier, ties, tim, tin, tit, tour, tout, tum,
  wag, wand, wap, wax, weir, won,
  yan, yen]

# ç®€å…¥ç¹å‡º é€šè¿‡ OpenCC æ”¯æŒ githubåœ°å€ï¼šhttps://github.com/BYVoid/OpenCC
# å·²é›†æˆåœ¨è¾“å…¥æ³•ç¨‹åºä¸­ï¼Œåœ¨è¾“å…¥æ³•ç¨‹åºç›®å½•çš„ opencc ç›®å½•ä¸‹
# è¾“å…¥æ³•ç¨‹åºä¸­ä½¿ç”¨ OpenCC ç®€è½¬ç¹çš„è¿‡ç¨‹æ˜¯è¿™æ ·ï¼š
# 1. å…ˆä»ç®€è½¬ç¹ä½“
# 2. å¦‚æœé…ç½®äº†å°æ¹¾ç¹ä½“ï¼Œå°±ä¼šå°†ä¸Šä¸€æ­¥ç”Ÿæˆçš„ç¹ä½“è¿›ä¸€æ­¥å¤„ç†
# 3. æ ¹æ®è¿™ä¸ªæ–‡ä»¶ï¼šhttps://github.com/BYVoid/OpenCC/blob/master/data/dictionary/TWVariants.txt æŠŠå°æ¹¾ä¸æ­£å¸¸ç¹ä½“ä¸åŒçš„åœ°æ–¹è½¬æˆå°æ¹¾ç‰ˆæœ¬çš„å­—ï¼Œæ¯”å¦‚ â€œåºŠâ€

# ç®€ä½“è½¬ç¹ä½“
tradition:
  #  opencc_config: s2t.json  # ç®€ -> ç¹
  opencc_config: s2hk.json  # ç¹ -> é¦™æ¸¯
  #  opencc_config: t2s.json   # ç¹ -> ç®€
  #  opencc_config: t2tw.json  # ç¹ -> å°æ¹¾
  #  opencc_config: t2hk.json  # ç¹ -> é¦™æ¸¯
  #  opencc_config: s2tw.json  # ç°¡ -> è‡ºç£æ¨™æº–
  #  opencc_config: s2twp.json  # ç°¡ -> è‡ºç£ç‰‡èª
  option_name: traditionalize